!function(a){var b={handler:function(a,b,c){return function(){return"[object Array]"!==Object.prototype.toString.call(b)?a.apply(b,arguments):a.apply(c,b.concat(Array.prototype.slice.call(arguments)))}},param:function(a){var b="";for(var c in a)""!==b&&(b+="&"),b+=c+"="+a[c];return b}},c=function(a,c){var d=function(a,b,c){for(var d in a)this[d]=this._create(a[d]);this.defaults=b,this.ajax=c};return d.prototype._create=function(c){return b.handler(function(b,d){var e=a.extend({},this.defaults);return e.url+=c.path,e.type=c.type,b=a.extend(e,b),c.before&&c.before(b),this["_"+c.type](b),d?b:this.ajax(b)},this)},d.prototype._GET=function(a){a.data&&(a.url+="?"+c.param(a.data),delete a.data)},d.prototype._POST=function(a){a.data&&(a.data=JSON.stringify(a.data))},d.prototype._DELETE=function(a){a.data&&(a.url+="?"+c.param(a.data),delete a.data)},d}(a,b),d=function(a){var b=function(b,c){for(var d in c.resources)this[d]=new a(c.resources[d],c,b);delete c.resources,this.defaults=c};return b}(c);this.Endpoints=d}(root.underscore);